name = "lifelogs-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
ENVIRONMENT = "development"

[[d1_databases]]
binding = "DB"
database_name = "lifelogs-db"
database_id = "c4c465cd-f184-4c10-afc6-fc42bc36f77e"

# Production environment
[env.production]
name = "lifelogs-api"
routes = [
  { pattern = "lifelogs.elliotplant.com/api/*", zone_name = "elliotplant.com" }
]

[env.production.vars]
ENVIRONMENT = "production"
APP_URL = "https://lifelogs.elliotplant.com"

[[env.production.d1_databases]]
binding = "DB"
database_name = "lifelogs-db"
database_id = "c4c465cd-f184-4c10-afc6-fc42bc36f77e"
